# Niu_NFC-RFID
小牛电动车无钥匙启动模块。基于Arduino。

# 硬件

- Arduino开发板
- 315或433Mhz接收模块、发射模块（无需自带解码/编码）
- RC522模块
- 蜂鸣器模块
- 防水盒

# 接线

> 具体可见源代码。不含VCC/GND接线。

| 模块 | 模块引脚 | arduino引脚|
| -- | -- | -- |
| RC522 | RST | 9 |
| RC522 | SDA/SS | 10 |
| RC522 | MOSI | 11 |
| RC522 | MISO | 12 |
| RC522 | SCK | 13 |
| 无线接收 | DATA | 0 (interrupt 1) |
| 无线发射 | DATA | 6 |
| 蜂鸣器 | 控制 | 4 |

# 使用方法

1. 首先确定原本遥控是315MHz还是433MHz，可以拆开查看晶振或芯片型号，无法确定则购买两种。
1. 上传`receive`代码，打开串口监视器，按下遥控器按键，查看数据。主要为`Decimal`和`PulseLength`。
1. 修改`send_test`代码，上传运行，并在车边运行，看看是否有反应。（修改`Decimal`和`PulseLength`，默认`Protocol`为`0`，如果不一致请自行修改）
1. 测试成功可以遥控。
1. 上传`card_uid`代码，连接RC522模块，打开串口监视器，刷卡，查看卡片`UID`。
1. 修改`card`代码中的遥控数据和卡片数据，上传，全部模块接线，车边刷卡测试。
